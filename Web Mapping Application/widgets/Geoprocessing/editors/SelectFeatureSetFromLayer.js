//>>built
require({cache:{"url:widgets/Geoprocessing/editors/SelectFeatureSetFromLayer.html":'\x3cdiv\x3e\r\n\t\x3cdiv class\x3d"layer-name" data-dojo-attach-point\x3d"layerNameNode" data-dojo-attach-event\x3d"onclick: _onDropDownClick"\x3e\x3c/div\x3e\r\n\t\x3cdiv class\x3d"drop-select" data-dojo-attach-point\x3d"dropArrowNode" data-dojo-attach-event\x3d"onclick: _onDropDownClick"\x3e\x3c/div\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"layerChooseNode" style\x3d"display: none"\x3e\x3c/div\x3e\r\n\x3c/div\x3e'}});
define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/html dojo/on dijit/_TemplatedMixin jimu/dijit/FeaturelayerChooserFromMap jimu/utils esri/tasks/FeatureSet esri/tasks/query ../BaseEditor dojo/text!./SelectFeatureSetFromLayer.html".split(" "),function(d,e,f,c,g,h,k,l,m,n,p,q){return d([p,h],{templateString:q,editorName:"SelectFeatureSetFromLayer",postCreate:function(){this.inherited(arguments);this.selectedLayer=null;var a={multiple:!1,createMapResponse:this.map.webMapResponse,
showLayerFromFeatureSet:!0,types:this.param.defaultValue&&this.param.defaultValue.geometryType?[l.getTypeByGeometryType(this.param.defaultValue.geometryType)]:["point","polyline","polygon"]};this.layerChooserFromMap=new k(a);this.layerChooserFromMap.placeAt(this.layerChooseNode);this.layerChooserFromMap.startup();this.own(g(this.layerChooserFromMap,"tree-click",e.hitch(this,this._onTreeClick)));c.addClass(this.domNode,"jimu-gp-editor-sffl");c.addClass(this.domNode,"jimu-gp-editor-base")},_onDropDownClick:function(){"none"===
c.getStyle(this.layerChooseNode,"display")?this._openLayerChooser():this._closeLayerChooser()},_openLayerChooser:function(){c.setStyle(this.layerChooseNode,"display","")},_closeLayerChooser:function(){c.setStyle(this.layerChooseNode,"display","none")},_onTreeClick:function(){var a=!1;f.forEach(this.layerChooserFromMap.getSelectedItems(),function(b){this.layerNameNode.innerHTML=b.layerInfo.title;this.selectedLayer=b.layerInfo.layerObject;a=!0},this);a&&this._closeLayerChooser()},getValue:function(){return this.selectedLayer},
getGPValue:function(){var a=this.selectedLayer;if(null===a)return this.wrapValueToDeferred(null);if(a.url){var b=new n;b.where="1\x3d1";return a.queryFeatures(b)}b=new m;b.features=a.graphics;return this.wrapValueToDeferred(b)}})});